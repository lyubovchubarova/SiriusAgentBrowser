<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Sirius Agent</title>
		<style>
			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
					Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
					"Helvetica Neue", sans-serif;
				margin: 0;
				padding: 0;
				display: flex;
				flex-direction: column;
				height: 100vh;
				background-color: #f5f5f5;
			}

			#chat-container {
				flex: 1;
				overflow-y: auto;
				padding: 15px;
				display: flex;
				flex-direction: column;
				gap: 10px;
			}

			.message {
				max-width: 85%;
				padding: 10px 15px;
				border-radius: 15px;
				line-height: 1.4;
				font-size: 14px;
				word-wrap: break-word;
			}

			.user-message {
				align-self: flex-end;
				background-color: #007aff;
				color: white;
				border-bottom-right-radius: 5px;
			}

			.agent-message {
				align-self: flex-start;
				background-color: white;
				color: #333;
				border-bottom-left-radius: 5px;
				box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
			}

			.thinking-container {
				align-self: flex-start;
				background-color: #e8e8e8;
				border-radius: 8px;
				margin-bottom: 8px;
				max-width: 95%;
				border: 1px solid #d0d0d0;
				overflow: hidden;
				display: flex;
				flex-direction: column;
				box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
				animation: fadeIn 0.3s ease-out;
			}

			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(5px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.thinking-header {
				padding: 6px 10px;
				background-color: #dcdcdc;
				cursor: pointer;
				display: flex;
				justify-content: space-between;
				align-items: center;
				font-size: 11px;
				font-weight: 600;
				color: #555;
				user-select: none;
				transition: background-color 0.2s;
			}

			.thinking-header:hover {
				background-color: #d0d0d0;
			}

			.thinking-content {
				padding: 10px;
				font-family: "Consolas", "Monaco", "Courier New", monospace;
				font-size: 11px;
				line-height: 1.4;
				white-space: pre-wrap;
				word-wrap: break-word;
				color: #333;
				background-color: #e8e8e8;
				display: block;
				max-height: 300px;
				overflow-y: auto;
			}

			.thinking-content.collapsed {
				display: none;
			}

			.thinking-content::after {
				content: "▋";
				display: inline-block;
				vertical-align: bottom;
				animation: blink 1s step-start infinite;
				color: #888;
				margin-left: 2px;
				font-size: 10px;
			}

			@keyframes blink {
				50% {
					opacity: 0;
				}
			}

			.toggle-icon {
				transition: transform 0.2s;
				font-size: 10px;
			}

			.status-message {
				align-self: center;
				font-size: 12px;
				color: #888;
				margin: 5px 0;
			}

			#input-area {
				padding: 15px;
				background-color: white;
				border-top: 1px solid #e0e0e0;
				display: flex;
				gap: 10px;
			}

			#prompt-input {
				flex: 1;
				padding: 10px;
				border: 1px solid #ddd;
				border-radius: 20px;
				outline: none;
				font-size: 14px;
			}

			#prompt-input:focus {
				border-color: #007aff;
			}

			#send-btn {
				background-color: #007aff;
				color: white;
				border: none;
				border-radius: 50%;
				width: 36px;
				height: 36px;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			#send-btn:disabled {
				background-color: #ccc;
				cursor: not-allowed;
			}

			#stop-btn {
				background-color: #ff3b30;
				color: white;
				border: none;
				border-radius: 50%;
				width: 36px;
				height: 36px;
				cursor: pointer;
				display: none; /* Hidden by default */
				align-items: center;
				justify-content: center;
			}

			#stop-btn svg {
				width: 16px;
				height: 16px;
				fill: white;
			}

			#send-btn svg {
				width: 16px;
				height: 16px;
				fill: white;
			}
		</style>
	</head>
	<body>
		<div id="chat-container">
			<div class="message agent-message">
				Привет! Я Sirius Agent. Чем могу помочь в браузере?
			</div>
		</div>

		<div id="input-area">
			<input
				type="text"
				id="prompt-input"
				placeholder="Введите задачу..."
				autocomplete="off"
			/>
			<button id="stop-btn" title="Остановить">
				<svg viewBox="0 0 24 24">
					<rect x="6" y="6" width="12" height="12"></rect>
				</svg>
			</button>
			<button id="send-btn">
				<svg viewBox="0 0 24 24">
					<path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
				</svg>
			</button>
		</div>

		<script src="sidepanel.js"></script>
	</body>
</html>
